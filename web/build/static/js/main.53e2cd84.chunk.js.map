{"version":3,"sources":["Alert.js","Login.js","auth.js","Search.js","Registered.js","ChangePasswordButton.js","EditCourse.js","Tabs.js","App.js","reportWebVitals.js","index.js"],"names":["Alert","Login","useState","username","setUsername","password","setPassword","enqueueSnackbar","useSnackbar","history","useHistory","location","useLocation","React","useEffect","URLSearchParams","search","get","variant","handleSubmit","a","fetch","method","headers","body","JSON","stringify","user_name","res","ok","Error","json","t","access_token","localStorage","setItem","replace","Paper","style","margin","width","height","display","flexDirection","alignItems","TextField","label","value","onChange","event","target","type","Button","color","onClick","getAuthData","parse","getItem","getAuthHeaders","Authorization","fetchWithAuth","input","init","Search","queryType","setQueryType","userInput","setUserInput","courses","setCourses","detail","handleAdd","course","course_id","message","toLowerCase","includes","Select","MenuItem","map","Card","raised","marginBottom","CardHeader","title","course_num","course_name","subheader","course_description","join","CardActions","Registered","goToCourse","semester","setSemester","semesters","setSemesters","role","restriction","fetchCourses","url","newSemesters","forEach","quarter","year_offered","push","handleDrop","handleEdit","filteredCourses","filter","split","year","parseInt","Typography","s","actions","content","CardContent","Box","status","grade","prefix","SimpleDialog","props","onClose","open","p1","setP1","p2","setP2","length","Dialog","aria-labelledby","padding","DialogTitle","id","fullWidth","SimpleDialogDemo","setOpen","EditCourse","students","setStudents","fetchStudents","Promise","all","student","student_id","UCID","student_grade","index","student_name","str","n","handleChangeGrade","TabPanel","children","other","hidden","a11yProps","useStyles","makeStyles","theme","root","flexGrow","backgroundColor","palette","background","paper","SimpleTabs","classes","setValue","setCourse","handleSignOut","removeItem","className","AppBar","position","Tabs","newValue","aria-label","Tab","App","Container","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.53e2cd84.chunk.js","sourcesContent":["import React from \"react\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nexport default Alert;\r\n","import React, { useState } from \"react\";\r\n\r\nimport { Button, Paper, TextField, Snackbar } from \"@material-ui/core\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nimport Alert from \"./Alert\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nfunction Login() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  React.useEffect(() => {\r\n    const query = new URLSearchParams(location.search);\r\n    if (query.get(\"expired\")) {\r\n      enqueueSnackbar(\"Token expired\", {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n  }, [location.search]);\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const res = await fetch(`/token`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          user_name: username,\r\n          password,\r\n        }),\r\n      });\r\n\r\n      if (!res.ok) throw new Error();\r\n\r\n      const t = await res.json();\r\n      if (t.access_token) {\r\n        localStorage.setItem(\"auth\", JSON.stringify(t));\r\n        history.replace(\"/\");\r\n      }\r\n    } catch (e) {\r\n      enqueueSnackbar(\"Wrong username or password\", {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Paper\r\n      style={{\r\n        margin: \"50px auto\",\r\n        width: \"500px\",\r\n        height: \"180px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <TextField\r\n        label=\"Username\"\r\n        value={username}\r\n        onChange={(event) => setUsername(event.target.value)}\r\n      />\r\n      <TextField\r\n        label=\"Password\"\r\n        type=\"password\"\r\n        value={password}\r\n        onChange={(event) => setPassword(event.target.value)}\r\n      />\r\n      <br />\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\r\n        Login\r\n      </Button>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","export const getAuthData = () => JSON.parse(localStorage.getItem(\"auth\")) || {};\r\n\r\nexport const getAuthHeaders = () => {\r\n  const { access_token, user_name } = getAuthData();\r\n  const output = {\r\n    Authorization: `Bearer ${user_name}.${access_token}`,\r\n  };\r\n  return output;\r\n};\r\n\r\nexport const fetchWithAuth = async (input, init) => {\r\n  const res = await fetch(input, {\r\n    ...init,\r\n    headers: {\r\n      ...init?.headers,\r\n      ...getAuthHeaders(),\r\n    },\r\n  });\r\n  return await res.json();\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nimport {\r\n  Button,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Card,\r\n  CardHeader,\r\n  CardActions,\r\n} from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { fetchWithAuth } from \"./auth\";\r\n\r\nfunction Search() {\r\n  const [queryType, setQueryType] = useState(\"prefix\");\r\n  const [userInput, setUserInput] = useState(\"\");\r\n  const [courses, setCourses] = useState([]);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const t = await fetchWithAuth(\r\n        `/api/search?query_type=${queryType}&user_input=${userInput}`\r\n      );\r\n\r\n      if (t.detail) throw new Error();\r\n      setCourses(t);\r\n    } catch (e) {\r\n      history.replace(\"/login?expired=true\");\r\n    }\r\n  };\r\n\r\n  const handleAdd = async (course) => {\r\n    const { course_id } = course;\r\n    const { message } = await fetchWithAuth(`/api/add?course_id=${course_id}`, {\r\n      method: \"POST\",\r\n    });\r\n    const variant = message?.toLowerCase().includes(\"success\")\r\n      ? \"success\"\r\n      : \"error\";\r\n    enqueueSnackbar(message, { variant });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ display: \"flex\", alignItems: \"flex-end\" }}>\r\n        <Select\r\n          value={queryType}\r\n          onChange={(event) => setQueryType(event.target.value)}\r\n        >\r\n          <MenuItem value=\"prefix\">Prefix</MenuItem>\r\n          <MenuItem value=\"course_number\">Course Number</MenuItem>\r\n          <MenuItem value=\"faculty_name\">Faculty Name</MenuItem>\r\n        </Select>\r\n        <TextField\r\n          label=\"Search\"\r\n          value={userInput}\r\n          onChange={(event) => setUserInput(event.target.value)}\r\n        />\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\r\n          Search\r\n        </Button>\r\n      </div>\r\n      <br />\r\n      {courses.map((course) => (\r\n        <Card raised style={{ marginBottom: 5 }} key={course.course_id}>\r\n          <CardHeader\r\n            title={`${course.course_num}: ${course.course_name}`}\r\n            subheader={`${course.course_description.join(\" \")}`}\r\n          />\r\n          <CardActions>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={() => handleAdd(course)}\r\n            >\r\n              Add\r\n            </Button>\r\n          </CardActions>\r\n        </Card>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardHeader,\r\n  CardActions,\r\n  CardContent,\r\n  Typography,\r\n  Box,\r\n} from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { fetchWithAuth, getAuthData } from \"./auth\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nfunction Registered({ goToCourse }) {\r\n  const [semester, setSemester] = useState(\"Spring 2020\");\r\n  const [semesters, setSemesters] = useState([\"Spring 2020\"]);\r\n  const [courses, setCourses] = useState([]);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const history = useHistory();\r\n\r\n  const { role, restriction } = getAuthData();\r\n\r\n  const fetchCourses = async () => {\r\n    try {\r\n      const url =\r\n        role === \"faculty\" ? \"/api/faculty/course\" : \"/api/registeredCourses\";\r\n      const t = await fetchWithAuth(url);\r\n      if (t.detail) throw new Error();\r\n      setCourses(t);\r\n\r\n      const newSemesters = [...semesters];\r\n      t.forEach((course) => {\r\n        const semester = `${course.quarter} ${course.year_offered}`;\r\n        if (!newSemesters.includes(semester)) {\r\n          newSemesters.push(semester);\r\n        }\r\n      });\r\n      setSemesters(newSemesters);\r\n    } catch (e) {\r\n      // history.replace(\"/login?expired=true\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!localStorage.getItem(\"auth\")) {\r\n      history.replace(\"/login\");\r\n      return;\r\n    }\r\n    fetchCourses();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleDrop = async (course) => {\r\n    const { course_id } = course;\r\n    const { message } = await fetchWithAuth(\r\n      `/api/drop?course_id=${course_id}`,\r\n      {\r\n        method: \"POST\",\r\n      }\r\n    );\r\n    const variant = message?.toLowerCase().includes(\"success\")\r\n      ? \"success\"\r\n      : \"error\";\r\n    enqueueSnackbar(message, { variant });\r\n    fetchCourses();\r\n  };\r\n\r\n  const handleEdit = async (course) => {\r\n    goToCourse(course);\r\n  };\r\n\r\n  const filteredCourses = courses.filter((course) => {\r\n    const [quarter, year] = semester.split(\" \");\r\n    return course.quarter === quarter && course.year_offered === parseInt(year);\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <br />\r\n      <Typography variant=\"h4\">\r\n        {role === \"faculty\" ? \"Your courses\" : \"Your registered courses\"}\r\n      </Typography>\r\n      {role === \"student\" && (\r\n        <Typography variant=\"h6\">\r\n          {restriction?.toLowerCase() === \"no restriction\"\r\n            ? \"No restriction\"\r\n            : `Restriction: ${restriction}`}\r\n        </Typography>\r\n      )}\r\n      {semesters.map((s) => (\r\n        <Button\r\n          color={semester === s ? \"secondary\" : \"primary\"}\r\n          variant=\"contained\"\r\n          onClick={() => setSemester(s)}\r\n          key={s}\r\n        >\r\n          {s}\r\n        </Button>\r\n      ))}\r\n\r\n      <br />\r\n      {filteredCourses.map((course) => {\r\n        let actions = null;\r\n        let content = null;\r\n        if (role === \"student\" && semester === \"Spring 2020\") {\r\n          actions = (\r\n            <CardActions>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => handleDrop(course)}\r\n              >\r\n                Drop\r\n              </Button>\r\n            </CardActions>\r\n          );\r\n        }\r\n\r\n        if (role === \"student\") {\r\n          content = (\r\n            <CardContent>\r\n              {semester === \"Spring 2020\" && (\r\n                <Box display=\"flex\">\r\n                  <Box width={100}>Status: </Box>\r\n                  {course.status}\r\n                </Box>\r\n              )}\r\n              {course.grade && (\r\n                <Box display=\"flex\">\r\n                  <Box width={100}>Grade: </Box>\r\n                  {course.grade}\r\n                </Box>\r\n              )}\r\n            </CardContent>\r\n          );\r\n        }\r\n\r\n        if (role === \"faculty\") {\r\n          actions = (\r\n            <CardActions>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => handleEdit(course)}\r\n              >\r\n                Edit\r\n              </Button>\r\n            </CardActions>\r\n          );\r\n        }\r\n\r\n        return (\r\n          <Card raised style={{ marginBottom: 5 }} key={course.course_id}>\r\n            <CardHeader\r\n              title={`${course.course_num}: ${course.course_name}`}\r\n              subheader={`${course.prefix}`}\r\n            />\r\n            {content}\r\n            {actions}\r\n          </Card>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Registered;\r\n","import React, { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { fetchWithAuth } from \"./auth\";\r\n\r\nfunction SimpleDialog(props) {\r\n  const { onClose, open } = props;\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const [p1, setP1] = useState(\"\");\r\n  const [p2, setP2] = useState(\"\");\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (p1 !== p2) {\r\n      enqueueSnackbar(\"Password mismatch\", { variant: \"error\" });\r\n      return;\r\n    }\r\n\r\n    if (p1.length < 8) {\r\n      enqueueSnackbar(\"Password must be at least 8 characters long\", {\r\n        variant: \"error\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    const res = await fetchWithAuth(`/api/password?new_password=${p1}`, {\r\n      method: \"POST\",\r\n    });\r\n    enqueueSnackbar(\"Password changed successfully\", {\r\n      variant: \"success\",\r\n    });\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={handleClose}\r\n      aria-labelledby=\"simple-dialog-title\"\r\n      open={open}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n          padding: 20,\r\n        }}\r\n      >\r\n        <DialogTitle id=\"simple-dialog-title\">Change password</DialogTitle>\r\n        <TextField\r\n          fullWidth\r\n          label=\"New password\"\r\n          type=\"password\"\r\n          value={p1}\r\n          onChange={(event) => setP1(event.target.value)}\r\n        />\r\n        <TextField\r\n          fullWidth\r\n          label=\"Re-enter new password\"\r\n          type=\"password\"\r\n          value={p2}\r\n          onChange={(event) => setP2(event.target.value)}\r\n        />\r\n        <br />\r\n        <Button color=\"primary\" variant=\"contained\" onClick={handleSubmit}>\r\n          Change\r\n        </Button>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nSimpleDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default function SimpleDialogDemo() {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button style={{ color: \"white\", width: 200 }} onClick={handleClickOpen}>\r\n        Change password\r\n      </Button>\r\n      <SimpleDialog open={open} onClose={handleClose} />\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { fetchWithAuth } from \"./auth\";\r\n\r\nimport {\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CardActions,\r\n  Typography,\r\n  Box,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nconst EditCourse = ({ course }) => {\r\n  const [students, setStudents] = useState([]);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const fetchStudents = async () => {\r\n    try {\r\n      const url = `/api/faculty/student?course_id=${course.course_id}`;\r\n      const students = await fetchWithAuth(url);\r\n      setStudents(students);\r\n    } catch (e) {\r\n      // history.replace(\"/login?expired=true\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!course) return;\r\n    fetchStudents();\r\n  }, [course]);\r\n\r\n  const handleChangeGrade = (str, index) => {\r\n    const grade = str[str.length - 1];\r\n    setStudents((students) => {\r\n      const n = [...students];\r\n      n[index] = { ...n[index], student_grade: grade };\r\n      return n;\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    const course_id = course?.course_id;\r\n    const res = await Promise.all(\r\n      students.map(async (student) => {\r\n        const student_id = student.UCID;\r\n        const grade = student.student_grade;\r\n        const url = `/api/faculty/grade?grade=${grade}&course_id=${course_id}&student_id=${student_id}`;\r\n        return fetchWithAuth(url, { method: \"POST\" });\r\n      })\r\n    );\r\n    enqueueSnackbar(\"Student grades updated successfully\", {\r\n      variant: \"success\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h4\">Editing course</Typography>\r\n      <Typography variant=\"h5\">{`${course.course_num}: ${course.course_name}`}</Typography>\r\n      {students.map((student, index) => {\r\n        return (\r\n          <Card style={{ marginBottom: 5 }} key={student.UCID}>\r\n            <CardContent>\r\n              <Box display=\"flex\" flexDirection=\"row\" alignItems=\"flex-end\">\r\n                <Box width={250}>\r\n                  <Typography>{student.student_name}</Typography>\r\n                </Box>\r\n                <Typography>Grade</Typography>\r\n                <Box width={10} />\r\n                <TextField\r\n                  style={{ width: 50 }}\r\n                  value={student.student_grade}\r\n                  onChange={(event) =>\r\n                    handleChangeGrade(event.target.value, index)\r\n                  }\r\n                />\r\n              </Box>\r\n            </CardContent>\r\n          </Card>\r\n        );\r\n      })}\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\r\n        Update\r\n      </Button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditCourse;\r\n","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport Search from \"./Search\";\r\nimport Registered from \"./Registered\";\r\nimport { fetchWithAuth, getAuthData } from \"./auth\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport ChangePasswordButton from \"./ChangePasswordButton\";\r\nimport EditCourse from \"./EditCourse\";\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && children}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    \"aria-controls\": `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nexport default function SimpleTabs() {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n  const [course, setCourse] = React.useState(null);\r\n  const history = useHistory();\r\n  const role = getAuthData()?.role;\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const handleGoToCourse = (course) => {\r\n    setCourse(course);\r\n    setValue(2);\r\n  };\r\n\r\n  const handleSignOut = async () => {\r\n    await fetchWithAuth(`/logout`);\r\n    localStorage.removeItem(\"auth\");\r\n    history.replace(\"/login\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (value === 2 && !course) {\r\n      setValue(0);\r\n    }\r\n  }, [value, course]);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <div style={{ display: \"flex\", flexDirection: \"row-reverse\" }}>\r\n          <Button\r\n            style={{ width: 150, color: \"white\" }}\r\n            onClick={handleSignOut}\r\n          >\r\n            Sign out\r\n          </Button>\r\n          <ChangePasswordButton />\r\n        </div>\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          aria-label=\"simple tabs example\"\r\n          style={{ width: \"50%\" }}\r\n        >\r\n          <Tab\r\n            label={role === \"faculty\" ? \"Courses\" : \"Registered\"}\r\n            {...a11yProps(0)}\r\n          />\r\n          {role !== \"faculty\" && <Tab label=\"Search\" {...a11yProps(1)} />}\r\n        </Tabs>\r\n      </AppBar>\r\n      <TabPanel value={value} index={0}>\r\n        <Registered goToCourse={handleGoToCourse} />\r\n      </TabPanel>\r\n      {role !== \"faculty\" && (\r\n        <TabPanel value={value} index={1}>\r\n          <Search />\r\n        </TabPanel>\r\n      )}\r\n      {role === \"faculty\" && (\r\n        <TabPanel value={value} index={2}>\r\n          <EditCourse course={course} />\r\n        </TabPanel>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import \"./App.css\";\r\nimport Login from \"./Login\";\r\n\r\nimport { SnackbarProvider } from \"notistack\";\r\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport Tabs from \"./Tabs\";\r\n\r\nfunction App() {\r\n  return (\r\n    <SnackbarProvider>\r\n      <Router>\r\n        <Container>\r\n          <Switch>\r\n            <Route path=\"/login\">\r\n              <Login />\r\n            </Route>\r\n            <Route path=\"/\">\r\n              <Tabs />\r\n            </Route>\r\n          </Switch>\r\n        </Container>\r\n      </Router>\r\n    </SnackbarProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}